importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js"),workbox.setConfig({debug:!1});const manifest=self.__WB_MANIFEST;precacheAndRoute(manifest),workbox.precaching.precacheAndRoute([{url:"#/",revision:"1"},{url:"#/index.html",revision:"1"},{url:"#/favicon.png",revision:"1"},{url:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",revision:"1.9.4"}]),workbox.routing.registerRoute((({url:e})=>["/","/bookmarks","/stories/add","/about","/login","/register"].includes(e.pathname)),new workbox.strategies.NetworkFirst({cacheName:"app-routes"})),workbox.routing.registerRoute((({url:e})=>e.pathname.endsWith(".css")),new workbox.strategies.CacheFirst({cacheName:"css-cache",plugins:[new workbox.cacheableResponse.CacheableResponsePlugin({statuses:[0,200]}),new workbox.expiration.ExpirationPlugin({maxEntries:10,maxAgeSeconds:2592e3})]})),workbox.routing.registerRoute((({url:e})=>"https://fonts.googleapis.com"===e.origin),new workbox.strategies.CacheFirst({cacheName:"google-fonts"})),workbox.routing.registerRoute((({url:e})=>"https://cdnjs.cloudflare.com"===e.origin),new workbox.strategies.CacheFirst({cacheName:"font-awesome"})),workbox.routing.registerRoute((({url:e})=>"https://story-api.dicoding.dev"===e.origin),new workbox.strategies.NetworkFirst({cacheName:"api-cache"})),workbox.routing.registerRoute("https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",new workbox.strategies.StaleWhileRevalidate({cacheName:"leaflet-css",plugins:[new workbox.cacheableResponse.CacheableResponsePlugin({statuses:[0,200],headers:{"Content-Type":"text/css","Access-Control-Allow-Origin":"*"}})]})),workbox.routing.setCatchHandler((({event:e})=>caches.match("/index.html"))),self.addEventListener("push",(e=>{e.waitUntil(self.registration.showNotification("Dicoding Story",{body:"Anda memiliki notifikasi baru",icon:"/favicon.png"}))})),self.addEventListener("notificationclick",(e=>{e.notification.close(),e.waitUntil(clients.matchAll({type:"window"}).then((e=>e.length>0?e[0].focus():clients.openWindow("/"))))})),self.addEventListener("install",(e=>{e.waitUntil(caches.open("css-assets").then((e=>e.addAll(["/app.css","https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"]).catch((e=>{console.error("Failed to cache CSS:",e)})))).then((()=>self.skipWaiting())))})),self.addEventListener("activate",(e=>{e.waitUntil(clients.claim())}));