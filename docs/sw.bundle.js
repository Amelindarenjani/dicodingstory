(()=>{importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js"),workbox.setConfig({debug:!1});var e=[{'revision':'201ff36121f2d33d0c9c5d214a200e83','url':'app.bundle.js'},{'revision':'4e0e34f265fae8f33b01b27ae29d9d6f','url':'app.bundle.js.LICENSE.txt'},{'revision':'f7e9402f9f46950f696af62493e99e64','url':'app.css'},{'revision':'c49b645d7316444e4b091353e06d34bb','url':'app.webmanifest'},{'revision':'21a0a0a9b1fdb78eae4c9d97f7e90078','url':'favicon.png'},{'revision':'d6044a89abaecea55c77299f069542b7','url':'images/favicon-192.png'},{'revision':'ac73f380ba0147f4fa5951dfaba2a665','url':'images/logo.png'},{'revision':'18288bc411bcd6c3c26892b1d1ae5850','url':'index.html'},{'revision':'c0104e5db75fbf34b8fe875d838ebb7a','url':'sw.js'}];precacheAndRoute(e),workbox.precaching.precacheAndRoute([{url:"#/",revision:"1"},{url:"#/index.html",revision:"1"},{url:"#/favicon.png",revision:"1"},{url:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",revision:"1.9.4"}]),workbox.routing.registerRoute((function(e){var t=e.url;return["/","/bookmarks","/stories/add","/about","/login","/register"].includes(t.pathname)}),new workbox.strategies.NetworkFirst({cacheName:"app-routes"})),workbox.routing.registerRoute((function(e){return e.url.pathname.endsWith(".css")}),new workbox.strategies.CacheFirst({cacheName:"css-cache",plugins:[new workbox.cacheableResponse.CacheableResponsePlugin({statuses:[0,200]}),new workbox.expiration.ExpirationPlugin({maxEntries:10,maxAgeSeconds:2592e3})]})),workbox.routing.registerRoute((function(e){return"https://fonts.googleapis.com"===e.url.origin}),new workbox.strategies.CacheFirst({cacheName:"google-fonts"})),workbox.routing.registerRoute((function(e){return"https://cdnjs.cloudflare.com"===e.url.origin}),new workbox.strategies.CacheFirst({cacheName:"font-awesome"})),workbox.routing.registerRoute((function(e){return"https://story-api.dicoding.dev"===e.url.origin}),new workbox.strategies.NetworkFirst({cacheName:"api-cache"})),workbox.routing.registerRoute("https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",new workbox.strategies.StaleWhileRevalidate({cacheName:"leaflet-css",plugins:[new workbox.cacheableResponse.CacheableResponsePlugin({statuses:[0,200],headers:{"Content-Type":"text/css","Access-Control-Allow-Origin":"*"}})]})),workbox.routing.setCatchHandler((function(e){return e.event,caches.match("/index.html")})),self.addEventListener("push",(function(e){e.waitUntil(self.registration.showNotification("Dicoding Story",{body:"Anda memiliki notifikasi baru",icon:"/favicon.png"}))})),self.addEventListener("notificationclick",(function(e){e.notification.close(),e.waitUntil(clients.matchAll({type:"window"}).then((function(e){return e.length>0?e[0].focus():clients.openWindow("/")})))})),self.addEventListener("install",(function(e){e.waitUntil(caches.open("css-assets").then((function(e){return e.addAll(["/app.css","https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"]).catch((function(e){console.error("Failed to cache CSS:",e)}))})).then((function(){return self.skipWaiting()})))})),self.addEventListener("activate",(function(e){e.waitUntil(clients.claim())}))})();